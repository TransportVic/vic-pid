extends ../core/pid
include ./templates/next-service-header

block head
  link(rel='stylesheet' href=`${pidStaticBase}/css/colours.css`)
  link(rel='stylesheet' href=`${pidStaticBase}/css/metro-lcd/half-platform.css`)
  link(rel='stylesheet' href=`${pidStaticBase}/css/metro-lcd/stopping-pattern.css`)
  link(rel='stylesheet' href=`${pidStaticBase}/css/metro-lcd/templates/next-service-header.css`)

block scripts
  script(src=`${pidStaticBase}/scripts/metro-lcd/platform.mjs` type='module')
  script(src=`${pidStaticBase}/scripts/metro-lcd/half-platform.mjs` type='module')
  if testing
    script(src=`${pidStaticBase}/scripts/test-data.js`)
    script.
      window.onload = () => {
        const pid = new HalfPlatformPID()
        window.pid = pid
        pid.updateServices(window.services)
      }

  for script of extraScripts || []
    script(src=script.src)

block pid
  div.pid.pid-32-9.landscape.showing-departure.light
    div#announcements
      img(src=`${pidStaticBase}/img/announcements.svg`)
      p Please Listen For Announcements

    div#no-trains
      p No trains departing
      p from this platform

    div#service-info
      div.fixed-message
      div.next-service-info-container
        +serviceHeader()
        div.next-service-detail
          div.next-service-pattern
          div.service-message
      div.subsequent-service-info
        mixin serviceRow()
          div.subsequent-service.no-line.template
            div.line-marker
            div.content
              div.top
                div.left
                  span.service-sch-time {0}
                  span.service-destination {1}
                div.right
                  span.service-est-time {2}
              div.bottom
                span.service-summary {3}
        +serviceRow()
        +serviceRow()
        div.clock