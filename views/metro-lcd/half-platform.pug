extends ../core/pid

block head
  link(rel='stylesheet' href=`${staticContent}/css/colours.css`)
  link(rel='stylesheet' href=`${staticContent}/css/metro-lcd/half-platform.css`)
  link(rel='stylesheet' href=`${staticContent}/css/metro-lcd/stopping-pattern.css`)

block scripts
  script(src=`${staticContent}/scripts/metro-lcd/half-platform.mjs` type='module')
  if testing
    script(src=`${staticContent}/scripts/test-data.js`)
    script.
      window.onload = () => {
        const pid = new HalfPlatformPID()
        window.pid = pid
        pid.updateServices(window.services)
      }

block pid
  div.pid.pid-32-9.landscape.showing-departure.light
    div#announcements
      img(src=`${staticContent}/img/announcements.svg`)
      p Please Listen For Announcements

    div#service-info
      div.fixed-message
      div.next-service-info
        div.next-service-header
          div.top
            span.next-service-sch-time
            span.next-service-destination
            span.next-service-est-time --
          div.bottom
            span.next-service-summary
        div.next-service-detail
          div.next-service-pattern
          div.service-message
      div.subsequent-service-info
        mixin serviceRow()
          div.subsequent-service.no-line.template
            div.line-marker
            div.content
              div.top
                div.left
                  span.service-sch-time {0}
                  span.service-destination {1}
                div.right
                  span.service-est-time {2}
              div.bottom
                span.service-summary {3}
        +serviceRow()
        +serviceRow()
        div.clock